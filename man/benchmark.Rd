% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/benchmark.R
\name{benchmark}
\alias{benchmark}
\title{Benchmark Multiple Variable Selection Methods}
\usage{
benchmark(
  settings,
  n_sims = 1000,
  n = 500,
  true_theta = c(1, 0),
  intercept = 0,
  family = gaussian(),
  coverage = 0.95,
  L = 10,
  standardize = TRUE,
  decompose = TRUE,
  shrinkage = TRUE,
  tol = 0.05,
  max_iter = 100,
  ties = "efron",
  lambda = 0,
  tau = 0.5,
  cor_threshold = 0.5,
  include_lasso = TRUE,
  include_enet = TRUE,
  enet_alpha = 0.5,
  nfolds = 10,
  seed = 42,
  verbose = FALSE,
  parallel = FALSE,
  ...
)
}
\arguments{
\item{settings}{Data generation settings passed to the \code{generate} function.}

\item{n_sims}{Number of simulation replicates. Default 1000.}

\item{n}{Sample size for each simulation. Default 500.}

\item{true_theta}{Vector of true regression coefficients.}

\item{intercept}{True intercept value. Default 0.}

\item{family}{Response family. Can be gaussian(), binomial(), poisson(),
Gamma(), or "cox" for Cox regression.}

\item{coverage}{Nominal coverage level for credible sets. Default 0.95.}

\item{L}{Maximum number of single effects for gSuSiE and SuSiE. Default 10.}

\item{standardize}{Logical. Should variables be standardized? Default TRUE.}

\item{decompose}{Logical. Use matrix decomposition in gSuSiE? Default TRUE.}

\item{shrinkage}{Logical. Apply shrinkage in gSuSiE? Default TRUE.}

\item{tol}{Convergence tolerance for gSuSiE. Default 5e-2.}

\item{max_iter}{Maximum iterations for gSuSiE. Default 100.}

\item{ties}{Method for handling ties in Cox regression. Default "efron".}

\item{lambda}{Ridge penalty parameter for gSuSiE. Default 0.0.}

\item{tau}{Threshold parameter for gSuSiE. Default 0.5.}

\item{cor_threshold}{Correlation threshold for credible sets. Default 0.5.}

\item{include_lasso}{Logical. Include LASSO in benchmark? Default TRUE.}

\item{include_enet}{Logical. Include Elastic Net in benchmark? Default TRUE.}

\item{enet_alpha}{Elastic net mixing parameter. Default 0.5.}

\item{nfolds}{Number of cross-validation folds for glmnet methods. Default 10.}

\item{seed}{Random seed for reproducibility. Default 42.}

\item{verbose}{Logical. Show progress messages? Default TRUE.}

\item{parallel}{Logical. Use parallel processing? Default FALSE.}

\item{...}{Additional arguments passed to the \code{generate} function.}
}
\value{
A list containing benchmark results for each method:
\describe{
\item{glmsusie}{List with coef_summary, pmp_summary, and cs_summary}
\item{susie}{List with coef_summary, pip_summary, and cs_summary (Gaussian only)}
\item{lasso}{List with coef_summary, pip_summary, and cs_summary (if included)}
\item{enet}{List with coef_summary, pip_summary, and cs_summary (if included)}
}

Each summary contains:
\describe{
\item{coef_summary}{Coefficient estimation performance metrics}
\item{pmp_summary/pip_summary}{Inclusion probability performance metrics}
\item{cs_summary}{Credible set coverage and size statistics}
}
}
\description{
Performs comprehensive benchmarking of variable selection methods including
gSuSiE, SuSiE, LASSO, and Elastic Net across multiple simulated datasets.
Compares coefficient estimation, variable selection performance, and
credible set coverage.
}
\details{
This function performs a comprehensive comparison of variable selection methods
by running multiple simulations with the same data generation process. For each
simulation, it:
\enumerate{
\item Generates data using the specified settings
\item Fits all requested methods (gSuSiE, SuSiE, LASSO, Elastic Net)
\item Collects coefficient estimates, inclusion probabilities, and credible sets
\item Summarizes performance across all simulations
}

The function automatically handles different response families and excludes
SuSiE for non-Gaussian families since it only supports linear regression.

When \code{parallel = TRUE}, simulations are run in parallel using the
\code{future} framework. Progress is tracked with a progress bar when
\code{verbose = TRUE} and parallel processing is disabled.
}
\examples{
\dontrun{
# Simple benchmark with correlated predictors
settings <- list(
  rho = 0.8,
  block_size = 5
)

# Quick benchmark with few simulations
results <- benchmark(
  settings = settings,
  n_sims = 100,
  n = 200,
  true_theta = c(1, -0.5, rep(0, 18)),
  family = gaussian(),
  verbose = TRUE
)

# Print coefficient estimation results
print(results$glmsusie$coef_summary)
print(results$lasso$coef_summary)

# Logistic regression benchmark
logistic_results <- benchmark(
  settings = settings,
  n_sims = 50,
  n = 500,
  true_theta = c(0.5, -0.3, rep(0, 8)),
  family = binomial(),
  include_lasso = TRUE,
  include_enet = FALSE
)
}

}
